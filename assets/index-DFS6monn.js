const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Booking-Ds7rNBS2.js","assets/react-DMqFHgMx.js","assets/hoist-non-react-statics-Dlr-usKs.js","assets/react-is-8JwjhRSi.js","assets/Calendar-DmpFQnpN.js","assets/Confirmation-BHvxy98C.js","assets/Dashboard-DmpFQnpN.js","assets/Error-8xdFvQS5.js","assets/react-router-B1SDvGSn.js","assets/@remix-run-Br25Cn4W.js","assets/Error-BlwNqqXV.css","assets/Login-Xo77feJz.js","assets/firebaseConfig-CI7bezRE.js","assets/firebase-B8irkqmh.js","assets/@firebase-Dc_3sxFp.js","assets/idb-BXWtuYvb.js","assets/tslib-BGVaTf34.js","assets/react-dom-BsIKEOr0.js","assets/scheduler-CzFDRTuY.js","assets/prop-types-De5RoDcq.js","assets/react-router-dom-BrFwEvCg.js","assets/Login-BEzwh4Ha.css","assets/Logout-D060USJ-.js","assets/Profile-DDS_eUgf.js","assets/Administration-BTEdQYO4.js","assets/Home-DDVIN5iI.js","assets/SignUp-DWqQByg7.js","assets/formik-BnHsknQU.js","assets/deepmerge-DhIoniG1.js","assets/lodash-es-dVqQl90_.js","assets/react-fast-compare-De-AFDQy.js","assets/yup-WPI52z3l.js","assets/property-expr-DEi1ZLzV.js","assets/tiny-case-BJ7jYKNY.js","assets/toposort-CRaHnOVP.js","assets/SignUp-vabjnXFP.css","assets/DeleteAccount-BesIfWHC.js"])))=>i.map(i=>d[i]);
import{r as n,j as e,a as A}from"./react-DMqFHgMx.js";import{c as R}from"./react-dom-BsIKEOr0.js";import{P as f}from"./prop-types-De5RoDcq.js";import{d as S,e as O,f as c,a as D}from"./react-router-B1SDvGSn.js";import{L as m,B as T}from"./react-router-dom-BrFwEvCg.js";import"./hoist-non-react-statics-Dlr-usKs.js";import"./react-is-8JwjhRSi.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-Br25Cn4W.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const t of r.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&u(t)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}})();const w="modulepreload",N=function(i){return"/"+i},E={},a=function(s,l,u){let o=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),d=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));o=Promise.allSettled(l.map(p=>{if(p=N(p),p in E)return;E[p]=!0;const j=p.endsWith(".css"),L=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${L}`))return;const h=document.createElement("link");if(h.rel=j?"stylesheet":w,j||(h.as="script"),h.crossOrigin="",h.href=p,d&&h.setAttribute("nonce",d),document.head.appendChild(h),j)return new Promise((P,C)=>{h.addEventListener("load",P),h.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function r(t){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=t,window.dispatchEvent(d),!d.defaultPrevented)throw t}return o.then(t=>{for(const d of t||[])d.status==="rejected"&&r(d.reason);return s().catch(r)})},g=n.createContext(),v=({children:i})=>{const[s,l]=n.useState(null),u=r=>{l(r)},o=()=>{l(null)};return e.jsx(g.Provider,{value:{user:s,login:u,logout:o},children:i})};v.propTypes={children:f.node.isRequired};const z=()=>n.useContext(g),y=({children:i})=>{const{user:s}=z();return s?i:e.jsx(S,{to:"/login",replace:!0})};y.propTypes={children:f.node.isRequired};const I=n.lazy(()=>a(()=>import("./Booking-Ds7rNBS2.js"),__vite__mapDeps([0,1,2,3]))),V=n.lazy(()=>a(()=>import("./Calendar-DmpFQnpN.js"),__vite__mapDeps([4,1,2,3]))),W=n.lazy(()=>a(()=>import("./Confirmation-BHvxy98C.js"),__vite__mapDeps([5,1,2,3]))),q=n.lazy(()=>a(()=>import("./Dashboard-DmpFQnpN.js"),__vite__mapDeps([6,1,2,3]))),B=n.lazy(()=>a(()=>import("./Error-8xdFvQS5.js"),__vite__mapDeps([7,1,2,3,8,9,10]))),U=n.lazy(()=>a(()=>import("./Login-Xo77feJz.js"),__vite__mapDeps([11,1,2,3,12,13,14,15,16,8,9,17,18,19,20,21]))),$=n.lazy(()=>a(()=>import("./Logout-D060USJ-.js"),__vite__mapDeps([22,1,2,3]))),H=n.lazy(()=>a(()=>import("./Profile-DDS_eUgf.js"),__vite__mapDeps([23,1,2,3]))),F=n.lazy(()=>a(()=>import("./Administration-BTEdQYO4.js"),__vite__mapDeps([24,1,2,3]))),K=n.lazy(()=>a(()=>import("./Home-DDVIN5iI.js"),__vite__mapDeps([25,1,2,3]))),M=n.lazy(()=>a(()=>import("./SignUp-DWqQByg7.js"),__vite__mapDeps([26,1,2,3,12,13,14,15,16,27,28,29,30,31,32,33,34,35]))),G=n.lazy(()=>a(()=>import("./DeleteAccount-BesIfWHC.js"),__vite__mapDeps([36,1,2,3,12,13,14,15,16,8,9,17,18,19,20]))),J=()=>e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsxs(O,{children:[e.jsx(c,{path:"/",element:e.jsx(K,{})}),e.jsx(c,{path:"/dashboard",element:e.jsx(q,{})}),e.jsx(c,{path:"/booking",element:e.jsx(I,{})}),e.jsx(c,{path:"/calendar",element:e.jsx(V,{})}),e.jsx(c,{path:"/confirmation",element:e.jsx(W,{})}),e.jsx(c,{path:"/login",element:e.jsx(U,{})}),e.jsx(c,{path:"/logout",element:e.jsx($,{})}),e.jsx(c,{path:"/profile",element:e.jsx(H,{})}),e.jsx(c,{path:"/administration",element:e.jsx(y,{children:e.jsx(F,{})})}),e.jsx(c,{path:"*",element:e.jsx(B,{})}),e.jsx(c,{path:"/signup",element:e.jsx(M,{})}),e.jsx(c,{path:"/deleteAccount",element:e.jsx(G,{})})]})});class b extends n.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(s,l){console.error("Caught an error:",s,l)}render(){return this.state.hasError?e.jsx("h2",{children:"Noe gikk galt. Prøv å laste siden på nytt."}):this.props.children}}b.propTypes={children:f.node.isRequired};const Q="/assets/runningLogo-DzEqbChE.png",X=()=>{const{user:i,logout:s}=n.useContext(g),[l,u]=n.useState(!1),o=D(),r=()=>{u(p=>!p)},t=()=>{window.innerWidth<768&&u(!1)},d=()=>{o("/login"),t()};return e.jsxs("nav",{className:"navbar",children:[e.jsx("div",{className:"logo",children:e.jsx(m,{to:"/",onClick:t,children:e.jsx("img",{src:Q,alt:"Running Logo",loading:"lazy",className:"logo-img"})})}),e.jsxs("ul",{className:`nav-links ${l?"open":""}`,children:[e.jsx("li",{children:e.jsx(m,{to:"/",onClick:t,children:"Home"})}),e.jsx("li",{children:e.jsx(m,{to:"/administration",onClick:t,children:"Administrasjon"})}),e.jsx("li",{children:e.jsx(m,{to:"/booking",onClick:t,children:"Booking"})}),e.jsx("li",{children:e.jsx(m,{to:"/calendar",onClick:t,children:"Kalender"})}),e.jsx("li",{children:e.jsx(m,{to:"/dashboard",onClick:t,children:"Dashboard"})}),e.jsx("li",{children:e.jsx(m,{to:"/signup",onClick:t,children:"Sign up"})}),e.jsx("li",{children:e.jsx(m,{to:"/deleteAccount",onClick:t,children:"Delete Account"})})]}),e.jsx("div",{className:"auth-buttons",children:i?e.jsx("button",{onClick:()=>{s(),t()},children:"Logout"}):e.jsx("button",{onClick:d,children:"Login"})}),e.jsxs("div",{className:"hamburger",onClick:r,children:[e.jsx("span",{className:"bar"}),e.jsx("span",{className:"bar"}),e.jsx("span",{className:"bar"})]})]})},Y=()=>e.jsxs(b,{children:[" ",e.jsxs("div",{children:[e.jsx(X,{})," ",e.jsx(J,{})]})]});let x;const Z=()=>{const i="ws://localhost:8080";x=new WebSocket(i),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?x&&x.close():document.visibilityState==="visible"&&(x=new WebSocket(i),_())}),_()},_=()=>{x.onopen=()=>{console.log("WebSocket tilkoblet")},x.onclose=()=>{console.log("WebSocket koblet fra. Prøver å koble til på nytt..."),setTimeout(()=>{x=new WebSocket("ws://localhost:8080"),_()},1e3)},x.onerror=i=>{console.error("WebSocket feil:",i)}},ee=n.createContext(),k=({children:i})=>{const[s,l]=n.useState(null),u=r=>{l(r),console.error("App Error:",r)},o=()=>l(null);return e.jsxs(ee.Provider,{value:{error:s,showError:u,clearError:o},children:[i,s&&e.jsxs("div",{className:"error-popup",children:[e.jsx("p",{children:s}),e.jsx("button",{onClick:o,children:"Lukk"})]})]})};k.propTypes={children:f.node.isRequired};Z();R.createRoot(document.getElementById("root")).render(e.jsx(A.StrictMode,{children:e.jsx(T,{children:e.jsxs(v,{children:[" ",e.jsx(k,{children:e.jsx(Y,{})})]})})}));export{g as A};
