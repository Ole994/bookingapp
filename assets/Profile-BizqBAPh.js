import{r,j as e}from"./react--XRl7haj.js";import{g as u,o as x}from"./firebase-jztzg6lO.js";import{w as j,z as p,A as g}from"./@firebase-CJcwsLHv.js";import{P as N}from"./prop-types-BiVUseAU.js";import v from"./ProfileEdit-2hwCyp4Q.js";import{F as P,a as b}from"./react-icons-BYhuHjIU.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";import"./index-CuK6BhY5.js";import"./react-dom-CIG6_WAD.js";import"./scheduler-CzFDRTuY.js";import"./react-router-B4NpJaNW.js";import"./@remix-run-D3bQaVdt.js";import"./react-router-dom-6adBjQk5.js";const h=()=>{const[s,t]=r.useState(null),[l,n]=r.useState(!0),[i,c]=r.useState(null);return r.useEffect(()=>{const m=u(),o=x(m,a=>{a?(console.log("User is logged in:",a),c(a)):(console.log("No user is logged in."),c(null)),n(!1)});return()=>o()},[]),r.useEffect(()=>{i&&(async()=>{if(!i){console.error("No current user found."),n(!1);return}const o=j(),a=p(o,"users",i.uid);try{console.log("Fetching document for UID:",i.uid);const d=await g(a);d.exists()?(console.log("User document found:",d.data()),t(d.data())):console.error("User document does not exist. UID:",i.uid)}catch(d){console.error("Error fetching user profile:",d)}finally{n(!1)}})()},[i]),{profileData:s,loading:l}},f=()=>e.jsx("div",{children:e.jsx("p",{})});f.propTypes={setProfileImageUrl:N.func};const E=()=>{const{profileData:s,loading:t}=h();return t?e.jsx("div",{children:"Loading..."}):s?e.jsxs("div",{className:"about-container",children:[e.jsx("h2",{children:"About Me"}),e.jsx("p",{children:s.description})]}):e.jsx("div",{children:"No profile data found."})},z=()=>{const{profileData:s,loading:t}=h(),[l,n]=r.useState((s==null?void 0:s.profileImage)||""),[i,c]=r.useState(!1);if(r.useEffect(()=>{s!=null&&s.profileImage&&n(s.profileImage)},[s]),t)return e.jsx("div",{children:"Loading..."});if(!s)return e.jsx("div",{children:"No profile data found."});const m=()=>{c(!0)},o=()=>{c(!1)};return e.jsxs("div",{className:"profile-wrapper",children:[e.jsxs("div",{className:"sidebar",children:[e.jsxs("button",{onClick:o,className:"sidebar-button",children:[e.jsx(P,{className:"sidebar-icon"}),"Vis Profil"]}),e.jsxs("button",{onClick:m,className:"sidebar-button",children:[e.jsx(b,{className:"sidebar-icon"}),"Rediger Profil"]})]}),e.jsx("div",{className:"profile-content-container",children:i?e.jsx(v,{onClose:o,profileData:s,profileImageUrl:l}):e.jsxs("div",{className:"profile-view",children:[e.jsx("div",{className:"profile-img-div",children:l&&e.jsx("img",{src:l,alt:"Profile",className:"profile-img"})}),e.jsx("h1",{children:"Din Profil"}),e.jsxs("div",{className:"profile-grid-content",children:[e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Navn:"}),e.jsx("p",{children:s.name})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"email:"}),e.jsx("p",{children:s.email})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Telefonnummer:"}),e.jsx("p",{children:s.phone})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"addresse:"}),e.jsx("p",{children:s.address})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Postnummer:"}),e.jsx("p",{children:s.postalCode})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"postaddresse:"}),e.jsx("p",{children:s.postalPlace})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"By:"}),e.jsx("p",{children:s.city})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Land:"}),e.jsx("p",{children:s.country})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Bursdag:"}),e.jsx("p",{children:s.birthDate})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Kj√∏nn:"}),e.jsx("p",{children:s.gender})]}),e.jsx(E,{})]}),e.jsx(f,{setProfileImageUrl:n})]})})]})};export{z as default};
