import{r as a,j as e}from"./react-DMqFHgMx.js";import{A as f,a as N}from"./index-B5_mcffo.js";import{a as y}from"./firebase-Btx2GeER.js";import"./@firebase-dvqH61RW.js";import{a as w}from"./react-router-CXcXcBVQ.js";import"./hoist-non-react-statics-Dlr-usKs.js";import"./react-is-8JwjhRSi.js";import"./react-dom-BsIKEOr0.js";import"./scheduler-CzFDRTuY.js";import"./prop-types-De5RoDcq.js";import"./react-router-dom-Bw0pZBRX.js";import"./@remix-run-D3bQaVdt.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";const R=()=>{const{user:o,login:l}=a.useContext(f),[n,x]=a.useState(""),[m,j]=a.useState(""),[u,c]=a.useState(null),[d,p]=a.useState(null),[r,g]=a.useState(!1),t=w();a.useEffect(()=>{o&&t("/")},[o,t]);const b=async s=>{s.preventDefault(),c(null),p(null),g(!0);try{const h=(await y(N,n,m)).user;l({email:h.email,name:h.displayName||"Firebase User"}),p("Innlogging var vellykket!"),t("/")}catch(i){console.error("Error logging in with Firebase:",i.message),c("Kunne ikke logge inn. Vennligst sjekk e-post og passord og prÃ¸v igjen.")}finally{g(!1)}},v=s=>{s.preventDefault(),l({email:n,name:"Test User"}),t("/")};return e.jsx("div",{className:"login-wrapper",children:e.jsxs("div",{className:"login-box",children:[e.jsx("h2",{className:"login-title",children:"Logg inn"}),u&&e.jsx("p",{className:"error-message",children:u}),d&&e.jsx("p",{className:"success-message",children:d}),e.jsxs("form",{onSubmit:b,className:"login-form",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"email",children:"E-post:"}),e.jsx("input",{type:"email",id:"email",value:n,onChange:s=>x(s.target.value),required:!0,disabled:r})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"password",children:"Passord:"}),e.jsx("input",{type:"password",id:"password",value:m,onChange:s=>j(s.target.value),required:!0,disabled:r})]}),e.jsx("button",{type:"submit",className:"primary-button",disabled:r,children:r?"Logger inn...":"Logg inn"})]}),e.jsx("div",{className:"separator",children:"eller"}),e.jsx("button",{onClick:v,className:"secondary-button",children:"Logg inn med testbruker"})]})})};export{R as default};
