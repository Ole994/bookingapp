import{r,j as e}from"./react--XRl7haj.js";import{g as f,o as x}from"./firebase-jztzg6lO.js";import{w as u,z as j,A as p}from"./@firebase-CJcwsLHv.js";import{P as g}from"./prop-types-BiVUseAU.js";import N from"./ProfileEdit-CRFk6zGm.js";import{F as v,a as P}from"./react-icons-BYhuHjIU.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";import"./index-CafFRUbc.js";import"./react-dom-CIG6_WAD.js";import"./scheduler-CzFDRTuY.js";import"./react-router-B4NpJaNW.js";import"./@remix-run-D3bQaVdt.js";import"./react-router-dom-6adBjQk5.js";const b=()=>{const[s,m]=r.useState(null),[t,n]=r.useState(!0),[i,l]=r.useState(null);return r.useEffect(()=>{const d=f(),o=x(d,c=>{c?(console.log("User is logged in:",c),l(c)):(console.log("No user is logged in."),l(null)),n(!1)});return()=>o()},[]),r.useEffect(()=>{i&&(async()=>{if(!i){console.error("No current user found."),n(!1);return}const o=u(),c=j(o,"users",i.uid);try{console.log("Fetching document for UID:",i.uid);const a=await p(c);a.exists()?(console.log("User document found:",a.data()),m(a.data())):console.error("User document does not exist. UID:",i.uid)}catch(a){console.error("Error fetching user profile:",a)}finally{n(!1)}})()},[i]),{profileData:s,loading:t}},h=()=>e.jsx("div",{children:e.jsx("p",{})});h.propTypes={setProfileImageUrl:g.func};const B=()=>{const{profileData:s,loading:m}=b(),[t,n]=r.useState((s==null?void 0:s.profileImage)||""),[i,l]=r.useState(!1);if(r.useEffect(()=>{s!=null&&s.profileImage&&n(s.profileImage)},[s]),m)return e.jsx("div",{children:"Loading..."});if(!s)return e.jsx("div",{children:"No profile data found."});const d=()=>{l(!0)},o=()=>{l(!1)};return e.jsxs("div",{className:"profile-wrapper",children:[e.jsxs("div",{className:"sidebar",children:[e.jsxs("button",{onClick:o,className:"sidebar-button",children:[e.jsx(v,{className:"sidebar-icon"}),"Vis Profil"]}),e.jsxs("button",{onClick:d,className:"sidebar-button",children:[e.jsx(P,{className:"sidebar-icon"}),"Rediger Profil"]})]}),e.jsx("div",{className:"profile-content-container",children:i?e.jsx(N,{onClose:o,profileData:s,profileImageUrl:t}):e.jsxs("div",{className:"profile-view",children:[e.jsx("div",{className:"profile-img-div",children:t&&e.jsx("img",{src:t,alt:"Profile",className:"profile-img"})}),e.jsx("h1",{children:"Din Profil"}),e.jsxs("div",{className:"profile-grid-content",children:[e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Navn:"}),e.jsx("p",{children:s.name})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"email:"}),e.jsx("p",{children:s.email})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Telefonnummer:"}),e.jsx("p",{children:s.phone})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"addresse:"}),e.jsx("p",{children:s.address})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Postnummer:"}),e.jsx("p",{children:s.postalCode})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"postaddressen:"}),e.jsx("p",{children:s.postalPlace})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"By:"}),e.jsx("p",{children:s.city})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Land:"}),e.jsx("p",{children:s.country})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Bursdag:"}),e.jsx("p",{children:s.birthDate})]}),e.jsxs("div",{className:"grid-main-content",children:[e.jsx("h3",{children:"Kj√∏nn:"}),e.jsx("p",{children:s.gender})]})]}),e.jsx(h,{setProfileImageUrl:n})]})})]})};export{B as default};
