import{r as a,j as e}from"./react--XRl7haj.js";import{f as o}from"./index-CuK6BhY5.js";import{B as p,D as h,G as x,z as j}from"./@firebase-CJcwsLHv.js";import"./prop-types-BiVUseAU.js";import"./react-dom-CIG6_WAD.js";import"./scheduler-CzFDRTuY.js";import"./firebase-jztzg6lO.js";import"./tslib-BGVaTf34.js";import"./react-router-B4NpJaNW.js";import"./@remix-run-D3bQaVdt.js";import"./react-router-dom-6adBjQk5.js";import"./idb-BXWtuYvb.js";const I=()=>{const[t,n]=a.useState([]),[l,c]=a.useState(!0);a.useEffect(()=>{(async()=>{try{const m=(await p(h(o,"users"))).docs.map(i=>({id:i.id,...i.data()}));n(m)}catch(r){console.error("Error fetching users:",r)}finally{c(!1)}})()},[]);const d=async s=>{try{await x(j(o,"users",s)),n(t.filter(r=>r.id!==s)),alert("Bruker slettet med suksess.")}catch(r){console.error("Error deleting user:",r),alert("Kunne ikke slette bruker.")}};return l?e.jsx("div",{className:"loading",children:"Laster..."}):e.jsxs("div",{className:"admin-container",children:[e.jsx("h1",{className:"admin-title",children:"Brukeradministrasjon"}),t.length>0?e.jsx("div",{className:"user-card-container",children:t.map(s=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-info",children:[e.jsx("img",{src:s.profileImage||"default-avatar.png",alt:"Profile",className:"user-image"}),e.jsxs("div",{className:"user-details",children:[e.jsx("h2",{children:s.name}),e.jsxs("p",{children:["Email: ",s.email]}),e.jsxs("p",{children:["Telefon: ",s.phone]}),e.jsxs("p",{children:["Adresse: ",s.address]}),e.jsxs("p",{children:["Postnummer: ",s.postalCode]}),e.jsxs("p",{children:["By: ",s.city]}),e.jsxs("p",{children:["Land: ",s.country]}),e.jsxs("p",{children:["Fødselsdato: ",s.birthDate||"Ingen fødselsdato"]}),e.jsxs("p",{children:["Kjønn: ",s.gender||"Ingen kjønn"]}),e.jsx("textarea",{className:"description-box",value:s.description||"Ingen beskrivelse",readOnly:!0})]})]}),e.jsx("button",{onClick:()=>d(s.id),className:"delete-button",children:"Slett"})]},s.id))}):e.jsx("p",{className:"no-users",children:"Ingen brukere funnet."})]})};export{I as default};
