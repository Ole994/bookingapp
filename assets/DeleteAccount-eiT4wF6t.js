import{r as s,j as e}from"./react-DMqFHgMx.js";import{A as w,a as x}from"./index-B5_mcffo.js";import{E as y,r as j,d as P}from"./firebase-Btx2GeER.js";import"./@firebase-dvqH61RW.js";import{a as v}from"./react-router-CXcXcBVQ.js";import"./hoist-non-react-statics-Dlr-usKs.js";import"./react-is-8JwjhRSi.js";import"./react-dom-BsIKEOr0.js";import"./scheduler-CzFDRTuY.js";import"./prop-types-De5RoDcq.js";import"./react-router-dom-Bw0pZBRX.js";import"./@remix-run-D3bQaVdt.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";const z=()=>{const[a,d]=s.useState(""),[n,p]=s.useState(""),[c,t]=s.useState(null),[l,i]=s.useState(null),{logout:m}=s.useContext(w),h=v(),g=async r=>{if(r.preventDefault(),t(null),i(null),a!==n){t("Passwords do not match. Please try again.");return}const o=x.currentUser;if(o){const f=y.credential(o.email,a);try{await j(o,f),await P(o),i("Your account has been deleted successfully."),console.log("User account deleted successfully"),m(),setTimeout(()=>h("/"),2e3)}catch(u){console.error("Error deleting account:",u.message),u.code==="auth/wrong-password"?t("The password is incorrect. Please try again."):t("An error occurred while deleting your account. Please try again later.")}}else t("No user is currently logged in.")};return e.jsxs("div",{children:[e.jsx("h2",{children:"Delete Account"}),c&&e.jsx("p",{style:{color:"red"},children:c}),l&&e.jsx("p",{style:{color:"green"},children:l}),e.jsxs("form",{onSubmit:g,children:[e.jsx("input",{type:"password",placeholder:"Enter Password",value:a,onChange:r=>d(r.target.value),required:!0}),e.jsx("input",{type:"password",placeholder:"Confirm Password",value:n,onChange:r=>p(r.target.value),required:!0}),e.jsx("button",{type:"submit",children:"Delete Account"})]})]})};export{z as default};
