import{r,A as x,u as y,j as e}from"./index-D505blzw.js";import{a as f,E as j,r as P,d as v}from"./firebaseConfig-BzEcZC3G.js";const E=()=>{const[a,d]=r.useState(""),[n,h]=r.useState(""),[c,t]=r.useState(null),[l,u]=r.useState(null),{logout:p}=r.useContext(x),g=y(),m=async s=>{if(s.preventDefault(),t(null),u(null),a!==n){t("Passwords do not match. Please try again.");return}const o=f.currentUser;if(o){const w=j.credential(o.email,a);try{await P(o,w),await v(o),u("Your account has been deleted successfully."),console.log("User account deleted successfully"),p(),setTimeout(()=>g("/"),2e3)}catch(i){console.error("Error deleting account:",i.message),i.code==="auth/wrong-password"?t("The password is incorrect. Please try again."):t("An error occurred while deleting your account. Please try again later.")}}else t("No user is currently logged in.")};return e.jsxs("div",{children:[e.jsx("h2",{children:"Delete Account"}),c&&e.jsx("p",{style:{color:"red"},children:c}),l&&e.jsx("p",{style:{color:"green"},children:l}),e.jsxs("form",{onSubmit:m,children:[e.jsx("input",{type:"password",placeholder:"Enter Password",value:a,onChange:s=>d(s.target.value),required:!0}),e.jsx("input",{type:"password",placeholder:"Confirm Password",value:n,onChange:s=>h(s.target.value),required:!0}),e.jsx("button",{type:"submit",children:"Delete Account"})]})]})};export{E as default};
