const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Booking-B5MSlr8J.js","assets/react--XRl7haj.js","assets/prop-types-BiVUseAU.js","assets/Calendar-B7vKFfht.js","assets/Confirmation-RmP1kjVF.js","assets/Dashboard-B7vKFfht.js","assets/Error-CWeesaW_.js","assets/react-router-B4NpJaNW.js","assets/@remix-run-D3bQaVdt.js","assets/Error-BlwNqqXV.css","assets/Login-Bnav8Np2.js","assets/firebase-jztzg6lO.js","assets/@firebase-CJcwsLHv.js","assets/idb-BXWtuYvb.js","assets/tslib-BGVaTf34.js","assets/react-dom-CIG6_WAD.js","assets/scheduler-CzFDRTuY.js","assets/react-router-dom-6adBjQk5.js","assets/Login-BEzwh4Ha.css","assets/Logout-CRzuGNJi.js","assets/Profile-Ca9bY9YI.js","assets/ProfileEdit-Byqlazi6.js","assets/ProfileEdit-DtT6M1ih.css","assets/react-icons-BYhuHjIU.js","assets/Administration-DMwo8yU-.js","assets/Administration-U0bA829k.css","assets/Home-DacEH-5y.js","assets/SignUp-BYhYDTp1.js","assets/yup-D0TjtoPv.js","assets/property-expr-DEi1ZLzV.js","assets/tiny-case-BJ7jYKNY.js","assets/toposort-CMgDFqWq.js","assets/SignUp-DEhhaxRR.css","assets/DeleteAccount-ekPaDkvd.js"])))=>i.map(i=>d[i]);
import{r as n,j as e,R as O}from"./react--XRl7haj.js";import{c as D}from"./react-dom-CIG6_WAD.js";import{P as j}from"./prop-types-BiVUseAU.js";import{g as T,s as w,o as I,b as z}from"./firebase-jztzg6lO.js";import{v as N,w as y,x as V,y as U}from"./@firebase-CJcwsLHv.js";import{d as W,e as q,f as c,a as B}from"./react-router-B4NpJaNW.js";import{L as h,H as F}from"./react-router-dom-6adBjQk5.js";import"./scheduler-CzFDRTuY.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";import"./@remix-run-D3bQaVdt.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function l(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(r){if(r.ep)return;r.ep=!0;const t=l(r);fetch(r.href,t)}})();const K="modulepreload",H=function(i){return"/bookingapp/"+i},b={},a=function(s,l,u){let r=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(l.map(p=>{if(p=H(p),p in b)return;b[p]=!0;const f=p.endsWith(".css"),C=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${C}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":K,f||(m.as="script"),m.crossOrigin="",m.href=p,d&&m.setAttribute("nonce",d),document.head.appendChild(m),f)return new Promise((R,S)=>{m.addEventListener("load",R),m.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function t(o){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=o,window.dispatchEvent(d),!d.defaultPrevented)throw o}return r.then(o=>{for(const d of o||[])d.status==="rejected"&&t(d.reason);return s().catch(t)})},$={apiKey:"AIzaSyBf-UV2wzdvuGdUdAb4dUVKQln6hYJWtJY",authDomain:"bookingpage-bef4a.firebaseapp.com",projectId:"bookingpage-bef4a",storageBucket:"bookingpage-bef4a.appspot.com",messagingSenderId:"676485037932",appId:"1:676485037932:web:91736d92b774a628a23d49",measurementId:"G-6JTVF4PKK8"};let x;try{x=N($)}catch(i){console.error("Error initializing Firebase app:",i)}const ke=y(x),v=T(x),Pe=V(x);U(x);const Ae=y(x),E=n.createContext(),k=({children:i})=>{const[s,l]=n.useState(null),u=t=>{l(t)},r=()=>{l(null)};return n.useEffect(()=>{w(v,z).then(()=>{I(v,t=>{l(t?{email:t.email,name:t.displayName||"Firebase User"}:null)})}).catch(t=>{console.error("Error setting persistence:",t)})},[]),e.jsx(E.Provider,{value:{user:s,login:u,logout:r},children:i})};k.propTypes={children:j.node.isRequired};const J=()=>n.useContext(E),P=({children:i})=>{const{user:s}=J();return console.log("ProtectedRoute: Current user =",s),s?(console.log("ProtectedRoute: User authenticated, rendering children."),i):(console.log("ProtectedRoute: User not authenticated, redirecting to login."),e.jsx(W,{to:"/login",replace:!0}))};P.propTypes={children:j.node.isRequired};const G=n.lazy(()=>a(()=>import("./Booking-B5MSlr8J.js"),__vite__mapDeps([0,1,2]))),Y=n.lazy(()=>a(()=>import("./Calendar-B7vKFfht.js"),__vite__mapDeps([3,1,2]))),M=n.lazy(()=>a(()=>import("./Confirmation-RmP1kjVF.js"),__vite__mapDeps([4,1,2]))),Q=n.lazy(()=>a(()=>import("./Dashboard-B7vKFfht.js"),__vite__mapDeps([5,1,2]))),X=n.lazy(()=>a(()=>import("./Error-CWeesaW_.js"),__vite__mapDeps([6,1,2,7,8,9]))),Z=n.lazy(()=>a(()=>import("./Login-Bnav8Np2.js"),__vite__mapDeps([10,1,2,11,12,13,14,7,8,15,16,17,18]))),ee=n.lazy(()=>a(()=>import("./Logout-CRzuGNJi.js"),__vite__mapDeps([19,1,2]))),te=n.lazy(()=>a(()=>import("./Profile-Ca9bY9YI.js"),__vite__mapDeps([20,1,2,11,12,13,14,21,15,16,7,8,17,22,23]))),oe=n.lazy(()=>a(()=>import("./Administration-DMwo8yU-.js"),__vite__mapDeps([24,1,2,12,13,15,16,11,14,7,8,17,25]))),re=n.lazy(()=>a(()=>import("./Home-DacEH-5y.js"),__vite__mapDeps([26,1,2]))),ne=n.lazy(()=>a(()=>import("./SignUp-BYhYDTp1.js"),__vite__mapDeps([27,1,2,11,12,13,14,28,29,30,31,7,8,15,16,17,32]))),se=n.lazy(()=>a(()=>import("./DeleteAccount-ekPaDkvd.js"),__vite__mapDeps([33,1,2,11,12,13,14,7,8,15,16,17]))),ie=n.lazy(()=>a(()=>import("./ProfileEdit-Byqlazi6.js"),__vite__mapDeps([21,1,2,12,13,15,16,11,14,7,8,17,22]))),le=()=>e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsxs(q,{children:[e.jsx(c,{path:"/",element:e.jsx(re,{})}),e.jsx(c,{path:"/dashboard",element:e.jsx(Q,{})}),e.jsx(c,{path:"/booking",element:e.jsx(G,{})}),e.jsx(c,{path:"/calendar",element:e.jsx(Y,{})}),e.jsx(c,{path:"/confirmation",element:e.jsx(M,{})}),e.jsx(c,{path:"/login",element:e.jsx(Z,{})}),e.jsx(c,{path:"/logout",element:e.jsx(ee,{})}),e.jsx(c,{path:"/profile",element:e.jsx(te,{})}),e.jsx(c,{path:"/profileEdit",element:e.jsx(ie,{})}),e.jsx(c,{path:"/administration",element:e.jsxs(P,{children:[console.log("Attempting to access /administration"),e.jsx(oe,{})]})}),e.jsx(c,{path:"/signup",element:e.jsx(ne,{})}),e.jsx(c,{path:"/deleteAccount",element:e.jsx(se,{})}),e.jsx(c,{path:"*",element:e.jsx(X,{})})]})});class A extends n.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(s,l){console.error("Caught an error:",s,l)}render(){return this.state.hasError?e.jsx("h2",{children:"Noe gikk galt. Prøv å laste siden på nytt."}):this.props.children}}A.propTypes={children:j.node.isRequired};const ce="/bookingapp/assets/runningLogo-DzEqbChE.png",ae=()=>{const{user:i,logout:s}=n.useContext(E),[l,u]=n.useState(!1),r=B(),t=()=>{u(p=>!p)},o=()=>{window.innerWidth<768&&u(!1)},d=()=>{r("/login"),o()};return e.jsxs("nav",{className:"navbar",children:[e.jsx("div",{className:"logo",children:e.jsx(h,{to:"/",onClick:o,children:e.jsx("img",{src:ce,alt:"Running Logo",loading:"lazy",className:"logo-img"})})}),e.jsxs("ul",{className:`nav-links ${l?"open":""}`,children:[e.jsx("li",{children:e.jsx(h,{to:"/",onClick:o,children:"Home"})}),e.jsx("li",{children:e.jsx(h,{to:"/administration",onClick:o,children:"Administrasjon"})}),e.jsx("li",{children:e.jsx(h,{to:"/booking",onClick:o,children:"Booking"})}),e.jsx("li",{children:e.jsx(h,{to:"/calendar",onClick:o,children:"Kalender"})}),e.jsx("li",{children:e.jsx(h,{to:"/dashboard",onClick:o,children:"Dashboard"})}),e.jsx("li",{children:e.jsx(h,{to:"/signup",onClick:o,children:"Sign up"})}),e.jsx("li",{children:e.jsx(h,{to:"/deleteAccount",onClick:o,children:"Delete Account"})}),e.jsx("li",{children:e.jsx(h,{to:"/profile",onClick:o,children:"profile"})})]}),e.jsx("div",{className:"auth-buttons",children:i?e.jsx("button",{onClick:()=>{s(),o()},children:"Logout"}):e.jsx("button",{onClick:d,children:"Login"})}),e.jsxs("div",{className:"hamburger",onClick:t,children:[e.jsx("span",{className:"bar"}),e.jsx("span",{className:"bar"}),e.jsx("span",{className:"bar"})]})]})},de=()=>e.jsxs(A,{children:[" ",e.jsxs("div",{children:[e.jsx(ae,{})," ",e.jsx(le,{})]})]});let g;const ue=()=>{const i="ws://localhost:8080";g=new WebSocket(i),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?g&&g.close():document.visibilityState==="visible"&&(g=new WebSocket(i),_())}),_()},_=()=>{g.onopen=()=>{console.log("WebSocket tilkoblet")},g.onclose=()=>{console.log("WebSocket koblet fra. Prøver å koble til på nytt..."),setTimeout(()=>{g=new WebSocket("ws://localhost:8080"),_()},1e3)},g.onerror=i=>{console.error("WebSocket feil:",i)}},pe=n.createContext(),L=({children:i})=>{const[s,l]=n.useState(null),u=t=>{l(t),console.error("App Error:",t)},r=()=>l(null);return e.jsxs(pe.Provider,{value:{error:s,showError:u,clearError:r},children:[i,s&&e.jsxs("div",{className:"error-popup",children:[e.jsx("p",{children:s}),e.jsx("button",{onClick:r,children:"Lukk"})]})]})};L.propTypes={children:j.node.isRequired};ue();D.createRoot(document.getElementById("root")).render(e.jsx(O.StrictMode,{children:e.jsx(F,{children:e.jsxs(k,{children:[" ",e.jsx(L,{children:e.jsx(de,{})})]})})}));export{E as A,v as a,Ae as d,ke as f,Pe as s};
